<!DOCTYPE html>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
	<title>BOSS GUI Build Instructions</title>
  </head>
  <body>
	<h1>BOSS GUI: Build Instructions</h1>
	
	<p>This guide presumes that you are building on Windows. If not, presumably you are experienced enough to know what you're doing. 
	If after following this guide, you are still having trouble compiling BOSS GUI, feel free to PM  WrinklyNinja for help.</p>
	<p>This guide also assumes that you are building the 'trunk' of the boss-gui code. If you are building a branch, change all references to 
	<code>trunk\</code> to the directory that contains the BOSS GUI.sln file of the code you are building.</p><br />
	
	<h3>Preparing Your Environment/Getting Prerequisites</h3>
	<h4>Download and install:</h4>
	<ul>
		<li><a href="http://www.microsoft.com/visualstudio/en-us/products/2010-editions/visual-cpp-express">Microsoft Visual C++ 2010 Express Edition</a></li>
		<li><a href="http://www.microsoft.com/visualstudio/en-us/products/2008-editions/express">Microsoft Visual C++ 2008 Express Edition</a> (required for compatibility with Windows 2000)</li>
		<li><a href="http://curl.haxx.se/download.html">Curl Source Code</a> - Download the latest zipped source code from the top of the page.</li>
		<li><a href="https://sourceforge.net/projects/boost/files/boost/1.46.1/">BOOST C++ libraries</a> - BOSS requires version 1.46.1, it will not work with earlier versions, later versions can be tried, but might also break something.</li>
		<li><a href="http://www.wxwidgets.org/downloads/">wxWidgets Source Code</a> - Download the 2.9.1 source code with Windows line endings.</li>
		<li>An SVN client of your choice.</li>
	</ul><br />
	
	<h4>Preparing BOSS and BOOST</h4>
	<ol>
		<li>Perform a SVN Checkout from <a href="https://better-oblivion-sorting-software.googlecode.com/svn">https://better-oblivion-sorting-software.googlecode.com/svn</a>
		to a local directory of your own choice to create your working copy. (This directory shall be referred to as <em>$BOSS</em> from here on in.)</li>
		<li>Extract the contents of the <code>boost-x.xx.x</code> (x is a number) folder in the BOOST libaries archive you downloaded to <code><em>$BOSS</em>\lib\boost\</code> (you should have lib, include, boostrap.bat, etc. in this folder).</li>
		<li>Start a Command Prompt and cd to <code><em>$BOSS</em>\lib\boost</code> and run <code>bootstrap.bat</code></li>
		<li>In the Command Prompt, run <code>bjam --toolset=msvc-9.0 --build-type=complete</code> . This will take a while. Once that is done, you may close the Command Prompt window.</li>
	</ol>

	<h4>Preparing wxWidgets</h4>
	<ol>
		<li>Extract the contents of the <code>wxWidgets-x.x.x</code> (x is a number) archive you downloaded to <code><em>$BOSS</em>\lib\wxWidgets\</code> (you should have build, include, lib, etc. in this folder).</li>
		<li>Open the VC6 workspace <code>em>$BOSS</em>\lib\wxWidgets\build\msw\wx.dsw</code>, answering "Yes" to any conversion prompts.</li>
		<li>Set the build type to Release. Build the following projects in listed order. For each project, in Project->Properties->Configuration Properties->C/C++->Code Generation, set the Runtime Library to "Multi-threaded (/MT)":
		<ul>
			<li>wxjpeg</li>
			<li>wxpng</li>
			<li>wxtiff</li>
			<li>wxzlib</li>
			<li>wxregex</li>
			<li>wxexpat</li>
			<li>base (in Project->Properties->Configuration Properties->General, set the Platform Toolset to "v90")</li>
			<li>net</li>
			<li>core (in Project->Properties->Configuration Properties->General, set the Platform Toolset to "v90")</li>
			<li>gl</li>
			<li>html</li>
			<li>xml</li>
			<li>media</li>
			<li>qa</li>
			<li>adv (in Project->Properties->Configuration Properties->General, set the Platform Toolset to "v90")</li>
			<li>xrc</li>
			<li>aui</li>
			<li>richtext</li>
			<li>propgrid</li>
			<li>ribbon</li>
			<li>stc</li>
		</ul>	
		</li>
		<li>Close the wx solution.</li>
	</ol>
	
	<h4>Preparing Curl</h4>
	<p>We are going to be building the curl requirements from source, since the Windows curl packages are often not up-to-date. We don't need to compile all of curl though, just the static library. 
	To do so, follow these steps:</p>
	<ol>
		<li>Extract the contents of the <code>curl-x.xx.x</code> (x is a number) folder in the curl archive to <code><em>$BOSS</em>\lib\curl\</code> (you should have lib, include, README, etc. in this folder).</li>
		<li>Open <code><em>$BOSS</em>\lib\curl\lib\libcurl.vcproj</code> in Visual C++ 2010. When the Conversion Wizard window appears, just click 'Finish' then 'Close'.</li>
		<li>Set the build type to Release. In Project->Properties->Configuration Properties->C/C++->Code Generation, set the Runtime Library to "Multi-threaded (/MT)".</li>
		<li>Build the libcurl project. This will create a libcurl.lib file in the <code><em>$BOSS</em>\lib\curl\lib\Release</code> directory. Close the libcurl project.</li>
	</ol><br />
	
	<h3>Building BOSS</h3>
	<ol>
		<li>Open <code><em>$BOSS</em>\code\boss-gui\trunk\BOSS GUI.sln</code> in Visual C++ 2010.</li>
		<li>Set the build type to "Release" and run Build on the BOSS GUI project, which will give you BOSS GUI.exe. Alternatively, run Debug->Build Solution to do the same.</li>
		<li>The generated exe(s) will be located in <code><em>$BOSS</em>\code\boss-gui\trunk\bin\Release\</code>.</li>
	</ol>
  </body>
</html>
