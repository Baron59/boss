<!DOCTYPE html>
<meta charset="utf-8">
<title>BOSS API ReadMe</title>
<style>
	body {font-family:Calibri,Arial,Verdana,sans-serifs;}
	body > div:first-child {font-size:2.4em; font-weight:bold; text-align:center; margin-bottom:0.2em;}
	body > div {margin-bottom:5em;}
	ol li, ul li {margin-bottom:10px;}
	li ul, li ol {margin-top:0.4em;}
	.codebox, .quotebox, .logbox {margin-left:40px; border:gray 1px dashed; display:table; min-width:300px; padding:5px 30px 5px 10px;}
	.codebox {margin-top:3em; font-family:monospace; background:#F5F5F5; line-height:20px; white-space:pre;}
	.quotebox {background:#E6E6FA;}
	.logbox {background:#E0FFFF; line-height:30px;}
	.logbox > ul > li {line-height:20px;}
	q {font-style:italic;}
	code {display:inline-box; padding:2px 5px; background:#EEEEEE;}
	td {border:1px solid #ccc; padding: 5px;}
	table {border:1px solid #CCCCCC; border-spacing:0; border-collapse:separate; margin:1em;}
	thead > tr td {font-weight:bold}
	h2 {margin-top:2em;}
</style>

<div>BOSS<br />
API Documentation</div>
<div><h1>Contents</h1>
<ol>
	<li><a href="#intro">Introduction</a>
	<ol style="list-style:lower-alpha;">
		<li><a href="#intro-lo">Introduction To Load Ordering</a>
		<li><a href="#intro-boss">Overview Of BOSS</a>
	</ol>
	<li><a href="#types">Variable Types</a>
	<li><a href="#codes">Return Codes</a>
	<li><a href="#games">Game Codes</a>
	<li><a href="#functions">Functions</a>
	<ol style="list-style:lower-alpha;">
		<li><a href="#functions-version">Version Functions</a>
		<li><a href="#functions-updating">Updater Functions</a>
		<li><a href="#functions-lifecycle">Lifecycle Management Functions</a>
		<li><a href="#functions-sorting">Plugin Sorting Functions</a>
		<li><a href="#functions-loading">Database Loading Functions</a>
		<li><a href="#functions-access">Database Access Functions</a>
	</ol>
	<li><a href="#examples">Examples</a>
	<ol style="list-style:lower-alpha;">
		<li><a href="#examples-python">Python</a>
		<li><a href="#examples-c">C++</a>
	</ol>
	<li><a href="#contact">Contact</a>
	<li><a href="#contact">Credits</a>
	<li><a href="#license">License</a>
</ol>
</div>

<div id="intro"><h1>Introduction</h1>
<p>This documentation details the BOSS API (a.k.a. BAPI) and is intended for use by third party developers of modding utilities for TES IV: Oblivion, TES V: Skyrim, Nehrim - At Fate's Edge, Fallout 3 and Fallout: New Vegas.

<p>BAPI has a C frontend and is available as 32-bit and 64-bit DLLs that can be loaded by other modding utilities. BAPI currently has the following capabilities:
<ul>
	<li>Support for Oblivion, Nehrim, Skyrim, Fallout 3 and Fallout: New Vegas.
	<li>Support for Skyrim's new load order mechanism (present in Skyrim v1.4.26+).
	<li>Get/Set the load order for all plugins.
	<li>Get/Set the active plugins.
	<li>Get/Set the load order position of individual plugins.
	<li>Get/Set the active/inactive status of individual plugins.
	<li>Get the filename of the plugin at a specific load order position.
	<li>Auto-sort mods using BOSS's functionality.
	<li>Trial auto-sorting of mods using BOSS's functionality, outputting the sorted order without actually making any changes.
	<li>Create a slimmed-down BOSS masterlist containing only Bash Tag suggestions and dirty mod information.
	<li>Download the latest BOSS masterlist.
	<li>Extract dirty mod information from BOSS's masterlist.
	<li>Extract Bash Tag suggestions from BOSS masterlist and userlist, differentiating between those added and removed.
</ul>
<p>BAPI is intended as a full solution to the management of load order and plugin activation status across all supported games, freeing client utilities from the requirement to maintain their own code for those functions. The source code is available at <a href="http://code.google.com/p/better-oblivion-sorting-software/source/browse/#svn%2Fcode%2Fboss-api%2Ftrunk">BOSS's Google Code repository</a>. BAPI is licensed as part of BOSS under the GNU General Public License v3, see the main BOSS readme for more information.

<h2 id="intro-lo">Introduction To Load Ordering</h3>
<p>The following applies universally to Oblivion, Nehrim, Skyrim, Fallout 3 and Fallout: New Vegas unless otherwise noted.
<p>Load ordering is the method used to determine how conflicts between mod plugins should be decided. If two plugins alter the same game data, then the changes made by the plugin loading later will override those made by the plugin loading earlier. This <q>rule of one</q> results in a list of plugins, with those earlier in the list having any conflicting changes overriden by those later in the list. This list is the load order of the plugins.
<p>A game will only load the plugins that are active. Up to 255 plugins, including the game's .esm file, can be active at any one time. Active plugins are listed in the game's <q>plugins.txt</q> file, which is stored in the user's local application data folder. Nevertheless, it is useful when working with load orders to consider the load order of all plugins, even if only some of them will actually be loaded. This is both because it is easier to display a single list of plugins than a list and an unordered set, and because modders have engineered methods that allow the changes made by inactive plugins to be loaded by another plugin (eg. <abbr title="Wrye Bash, Wrye Flash or Wrye Flash NV">Wrye *ash</abbr>'s Bashed Patch). When any such methods are being used, the load order of inactive plugins decides which plugins override others, similar to as if they were active.
<p>In Oblivion, Nehrim, Fallout 3, Fallout: New Vegas and early versions (pre-1.4.26) of Skyrim, load order is decided by the relative timestamps of plugins in the game's Data directory. An installed plugin's load order is therefore an intrinsic property of that plugin.
<p>In Skyrim v1.4.26+, a new load order system was introduced, in which load order is decide by the order in which plugins are listed in <q>plugins.txt</q>. This brought with it a fundamental change, in that load order is no longer an intrinsic property of a plugin. This has the result that inactive plugins do not have any load order.
<p>Now follows a bit of history. The introduction of Skyrim's system posed a challenge for modding utilities that possessed functionality to modify load order, as not only would they no longer have any effect, but they would be unable to set any meaningful load order to inactive plugins. Lojack (Wrye Bash), Kaburke (Nexus Mod Manager), WrinklyNinja (BOSS) and Dark0ne (owner of the Nexus sites) then set about deciding on a solution that would work for the modding community in general.
<p>The solution decided on was that total load order would be stored in a <q>loadorder.txt</q> file, itself stored in the same location as <q>plugins.txt</q>. <q>plugins.txt</q> would be kept in synchronisation with <q>loadorder.txt</q> so that the order of plugins that the game loaded was the same for both files, but the latter would allow the load ordering of inactive plugins.
<p>Modding utilities would then perform their changes on <q>loadorder.txt</q>, updating <q>plugins.txt</q> to reflect any changes to active plugin load order as required. This would provide a common store for the total load order in lieu of the plugin timestamps used by the other games. In order to reduce duplication of effort and to ease code maintenance, the code implementing this system would be included into BAPI, as both Wrye Bash and the Nexus Mod Manager were already planning on using BAPI to access BOSS's information and auto-sorting functionality.
<p>The product is the current functionality of BAPI, which also expanded to include modification of plugin active/inactive statuses, and presents a single frontend for both the timestamp-based and plugins.txt-based load order systems.


<h2 id="intro-boss">Overview Of BOSS</h3>
<p>For those unfamiliar with BOSS and its files, this section gives a brief summary of its main features.
<p>BOSS is a utility that automatically sorts a user's load order to minimise incompatibilities. It does so according to the load order of the <q>masterlist</q>, which contains the optimal load order for all plugins known to BOSS and is kept up to date via community submissions to the BOSS Development Team. Each game that BOSS supports has a separate masterlist, and BOSS will by default check for masterlist updates and download the latest one for the relevant game when it runs.
<p>The masterlist also contains a large number of messages attached to plugins conveying information on compatibility, requirements, installation errors, dirty mod information, Bash Tag suggestions for use with the <abbr title="Wrye Bash, Wrye Flash or Wrye Flash NV">Wrye *ash</abbr> utilities, and more. These messages are displayed in the BOSS Log after BOSS has run, so that the user may read them and take any action that the messages suggest.
<p>BOSS allows users to override, or add to, the positions mods are put in and the messages attached to each mod by the masterlist using a <q>userlist</q> file.
</div>

<div id="types"><h1>Variable Types</h1>
<p>The API uses character strings and integers for information input/output. 
<ul>
	<li>All API strings are unsigned 8-bit character strings (uint8_t*) encoded in UTF-8.
	<li>All API numbers and return codes are unsigned 32-bit integers (uint32_t).
	<li>All API array sizes outputted use the unsigned data type size_t.
</ul>
<p>The API also introduces two new structures:
<div class="codebox">typedef struct _boss_db_int * boss_db;</div>
<p>The boss_db structure abstracts the definition of BOSS's internal state while still providing type safety across the API.

<div class="codebox">typedef struct {
    uint32_t id;
    const uint8_t * name;
} BashTag;</div>
<p>The BashTag structure gives the Unique Identifier (UID) for each Bash Tag and the corresponding Bash Tag name.
<p>Any arrays and strings that are set by BAPI functions should not be deallocated, as BOSS manages the memory it allocates. A string array set by BAPI lasts until another BAPI function is called that returns a string array or until either <span style="color:blue;">Load</span> or <span style="color:blue;">DestroyBossDb</span> is called. Integer arrays, BashTag arrays and strings set by BAPI have the same lifetime conditions. (Basically, BAPI only remembers the last string array, the last integer array, the last BashTag array and the last string it set for each database.)
<p>File paths are case-sensitive if the underlying file system is case-sensitive.
</div>

<div id="codes"><h1>Return Codes</h1>
<p>The BOSS API functions uses the following uint32_t return codes to signal how a function completes. WARN return codes signify a problem that did not cause the function to exit prematurely, whereas ERROR return codes signify issues that did cause the function to exit prematurely.
<table>
	<thead><tr><td>Return Code<td>Description
	<tbody>
		<tr><td>BOSS_API_OK								<td>The function completed successfully.
		<tr><td>BOSS_API_OK_NO_UPDATE_NECESSARY			<td>No update was found for the masterlist.
		<tr><td>BOSS_API_WARN_BAD_FILENAME				<td>The plugin filename contains characters that do not have Windows-1251/1252 code points. The plugin cannot be activated.
		<tr><td>BOSS_API_WARN_LO_MISMATCH				<td>The order of plugins in <q>plugins.txt</q> and their order in <q>loadorder.txt</q> does not match. This is due to something (eg. the Skyrim launcher) editing one file without sychronising the other. Synchronisation is automatic when load order is managed through BAPI.
		<tr><td>BOSS_API_ERROR_FILE_WRITE_FAIL			<td>A file could not be written to.
		<tr><td>BOSS_API_ERROR_FILE_DELETE_FAIL			<td>A file could not be deleted.
		<tr><td>BOSS_API_ERROR_FILE_NOT_UTF8			<td>The specified BOSS file (masterlist or userlist) is not encoded in UTF-8.
		<tr><td>BOSS_API_ERROR_FILE_NOT_FOUND			<td>The specified file could not be found.
		<tr><td>BOSS_API_ERROR_MASTER_TIME_READ_FAIL	<td>The modification date of the game's master file could not be read.
		<tr><td>BOSS_API_ERROR_MOD_TIME_WRITE_FAIL		<td>The modification date of a plugin could not be read.
		<tr><td>BOSS_API_ERROR_MOD_TIME_WRITE_FAIL		<td>The modification date of a plugin could not be set.
		<tr><td>BOSS_API_ERROR_PARSE_FAIL				<td>There was an error parsing the file.
		<tr><td>BOSS_API_ERROR_CONDITION_EVAL_FAIL		<td>There was an error evaluating the conditionals in the masterlist.
		<tr><td>BOSS_API_ERROR_REGEX_EVAL_FAIL			<td>There was an error evaluating the regular expressions in the masterlist.
		<tr><td>BOSS_API_ERROR_NO_MEM					<td>The API was unable to allocate the required memory.
		<tr><td>BOSS_API_ERROR_OVERWRITE_FAIL			<td>The API was unable to overwrite the minimal masterlist specified.
		<tr><td>BOSS_API_ERROR_INVALID_ARGS				<td>Invalid arguments were given for the function.
		<tr><td>BOSS_API_ERROR_NETWORK_FAIL				<td>There was an error in an Internet-related operation.
		<tr><td>BOSS_API_ERROR_NO_INTERNET_CONNECTION	<td>No Internet connection detected.
		<tr><td>BOSS_API_ERROR_NO_TAG_MAP				<td>No Bash Tag map has been generated yet. <span style="color:blue;">GetBashTagMap</span> must be run before <span style="color:blue;">GetModBashTags</span> to build the Bash Tag map.
		<tr><td>BOSS_API_RETURN_MAX						<td>Matches the value of the highest-numbered return code (BOSS_API_ERROR_NO_TAG_MAP). It isn't returned by any functions.
</table>
</div>

<div id="games"><h1>Game Codes</h1>
<p>The BOSS API functions uses the following uint32_t codes to specify which game the API is acting for, where distinctions between games are necessary.
<table>
	<thead><tr><td>Game Code<td>Game
	<tbody>
		<tr><td>BOSS_API_GAME_OBLIVION	<td>The Elder Scrolls IV: Oblivion
		<tr><td>BOSS_API_GAME_FALLOUT3	<td>Fallout 3
		<tr><td>BOSS_API_GAME_FALLOUTNV	<td>Fallout: New Vegas
		<tr><td>BOSS_API_GAME_NEHRIM	<td>Nehrim - At Fate's Edge
		<tr><td>BOSS_API_GAME_SKYRIM	<td>The Elder Scrolls V: Skyrim
</table>
</div>



<div id="functions"><h1>Functions</h1>
<p>BOSS API provides the functions listed below to clients. Where a function returns a uint32_t value, this is the function's return code.

<h2 id="functions-version">Version Functions</h2>

<p><div class="codebox">bool <span style="color:blue;">IsCompatibleVersion</span> (const uint32_t bossVersionMajor, const uint32_t bossVersionMinor, const uint32_t bossVersionPatch);</div class="codebox">
<p>Returns whether this version of BOSS supports the API from the given BOSS version. Abstracts BOSS API stability policy away from clients.

<p><div class="codebox">uint32_t <span style="color:blue;">GetVersionString</span> (const uint8_t ** bossVersionStr);</div>
<p>Returns the version string for this version of BOSS. The string exists for the lifetime of the library.


<h2 id="functions-lifecycle">Lifecycle Management Functions</h2>
<p><div class="codebox">uint32_t <span style="color:blue;">CreateBossDb</span>  (boss_db * db, const uint32_t clientGame, const uint8_t * dataPath);</div>
<p>Creates a database for the game specified using one of BAPI's game codes, and sets the path to the Data directory for that game. You can create multiple databases, eg. one for each game.
<p><div class="codebox">void <span style="color:blue;">DestroyBossDb</span> (boss_db db);</div>
<p>Explicitly manage a database's lifetime. Allows clients to free memory when they want/need to.

<h2 id="functions-updating">Updater Functions</h2>
<p>These functions require a database to be created, but Load() does not have to be called.

<p><div class="codebox">uint32_t <span style="color:blue;">UpdateMasterlist</span> (boss_db db, const uint8_t * masterlistPath);</div>
<p>Updates the masterlist at masterlistPath to the latest version of the masterlist for the game specified when the given database was created. If there is no masterlist present, then the latest masterlist will be downloaded to masterlistPath. If the local masterlist is already at the latest version, no masterlist is downloaded.

<h2 id="functions-sorting">Plugin Sorting Functions</h2>
<p>These functions require a database to be created, but Load() does not have to be called, except for the SortMods function.

<p><div class="codebox">uint32_t <span style="color:blue;">SortMods</span> (boss_db db, const bool trialOnly, uint8_t *** sortedPlugins, size_t * listLength, size_t * lastRecPos);</div>
<p>Sorts the mods in the data path, using the masterlist at the masterlist path, specified when the db was loaded using Load. Outputs a list of plugins, pointed to by sortedPlugins, of length pointed to by listLength. lastRecPos points to the position in the sortedPlugins list of the last plugin recognised by BOSS. If the trialOnly parameter is true, no plugins are actually redated. If trialOnly is false, then sortedPlugins, listLength and lastRecPos can be null pointers, in case you do not require the information. If one of them is null, the other two must also be null.

<p><div class="codebox">uint32_t <span style="color:blue;">GetLoadOrder</span> (boss_db db, uint8_t *** plugins, size_t * numPlugins);</div>
<p>Gets a list of plugins in load order, with the number of plugins given by numPlugins.

<p><div class="codebox">uint32_t <span style="color:blue;">SetLoadOrder</span> (boss_db db, uint8_t ** plugins, const size_t numPlugins);</div>
<p>Sets the load order to the given plugins list of length numPlugins, then scans the Data directory and appends any other plugins not included in the array passed to the function.

<p><div class="codebox">uint32_t <span style="color:blue;">GetActivePlugins</span> (boss_db db, uint8_t *** plugins, size_t * numPlugins);</div>
<p>Returns the contents of plugins.txt.

<p><div class="codebox">uint32_t <span style="color:blue;">SetActivePlugins</span> (boss_db db, uint8_t ** plugins, const size_t numPlugins);</div>
<p>Edits plugins.txt so that it lists the given plugins, in load order.

<p><div class="codebox">uint32_t <span style="color:blue;">GetPluginLoadOrder</span> (boss_db db, const uint8_t * plugin, size_t * index);</div>
<p>Gets the load order of the specified plugin, giving it as index. The first position in the load order is 0.


<p><div class="codebox">uint32_t <span style="color:blue;">SetPluginLoadOrder</span> (boss_db db, const uint8_t * plugin, const size_t index);</div>
<p>Sets the load order of the specified plugin, removing it from its current position if it has one. The first position in the load order is 0. If the index specified is greater than the number of plugins in the load order, the plugin will be inserted at the end of the load order.

<p><div class="codebox">uint32_t <span style="color:blue;">GetIndexedPlugin</span> (boss_db db, const size_t index, uint8_t ** plugin);</div>
<p>Gets what plugin is at the specified load order position. The first position in the load order is 0.

<p><div class="codebox">uint32_t <span style="color:blue;">IsPluginActive</span> (boss_db db, const uint8_t * plugin, bool * isActive);</div>
<p>Checks to see if the given plugin is listed in plugins.txt.

<p><div class="codebox">uint32_t <span style="color:blue;">SetPluginActive</span> (boss_db db, const uint8_t * plugin, const bool active);</div>
<p>If active is true, adds the plugin to plugins.txt in its load order if it is not already present. If active is false, removes the plugin from plugins.txt if it is present.


<h2 id="functions-loading">Database Loading Functions</h2>

<p><div class="codebox">uint32_t <span style="color:blue;">Load</span> (boss_db db, const uint8_t * masterlistPath, const uint8_t * userlistPath);</div>
<p>Loads the masterlist and userlist (both files) from the paths specified, for the game specified when the given database was created. Can be called multiple times. If an error is encountered, the database remains unchanged. If userlistPath is null, then the userlist is not loaded.

<p><div class="codebox">uint32_t <span style="color:blue;">EvalConditionals</span> (boss_db db);</div>
<p>Evaluates all conditional lines and regex mods in the loaded masterlist. This exists so that Load() doesn't need to be called whenever the mods installed are changed. Evaluation does not take place unless this function is called. Repeated calls re-evaluate the masterlist from scratch each time, ignoring the results of any previous evaluations. Only the output of <span style="color:blue;">DumpMinimal</span> and the sorting functions (minus <span style="color:blue;">SortMods</span>) is unaffected by conditional evaluation.


<h2 id="functions-access">Database Access Functions</h2>
<p><div class="codebox">uint32_t <span style="color:blue;">GetBashTagMap</span> (boss_db db, BashTag ** tagMap, size_t * numTags);</div>
<p>Returns an array of the Bash Tags encountered when loading the masterlist and userlist, and the number of tags in the returned array. This function must be called prior to calling GetModBashTags(), to ensure that the Bash Tag map exists so that GetModBashTags() may return the Tags found using the correct UIDs.

<p><div class="codebox">uint32_t <span style="color:blue;">GetModBashTags</span> (boss_db db, const uint8_t * modName, uint32_t ** tagIds_added, size_t * numTags_added, uint32_t **tagIds_removed, size_t *numTags_removed, bool * userlistModified);</div>
<p>Returns arrays of Bash Tag UIDs for Bash Tags suggested for addition and removal by BOSS's masterlist and userlist, and the number of tags in each array. modName is case-insensitive. If no Tags are found for an array, the array pointer (*tagIds) will be NULL. The userlistModified bool is true if the userlist contains Bash Tag suggestion message additions.

<p><div class="codebox">uint32_t <span style="color:blue;">GetDirtyMessage</span> (boss_db db, const uint8_t * modName, uint8_t ** message, uint32_t * needsCleaning);</div>
<p>Returns the message associated with a dirty mod and whether the mod needs cleaning. If a mod has no dirty message, *message will be NULL. modName is case-insensitive. The return values for needsCleaning are:
<table>
	<thead><tr><td>needsCleaning Value<td>Description
	<tbody>
		<tr><td>BOSS_API_CLEAN_NO<td>The plugin does not need cleaning or should not be cleaned.
		<tr><td>BOSS_API_CLEAN_YES<td>The plugin needs cleaning.
		<tr><td>BOSS_API_CLEAN_UNKNOWN<td>BOSS does not know whether the plugin needs cleaning or not, or if it should not be cleaned.
</table>
<br />
<p><div class="codebox">uint32_t <span style="color:blue;">DumpMinimal</span> (boss_db db, const uint8_t * outputFile, const bool overwrite);</div>
<p>Writes a minimal masterlist that only contains mods that have Bash Tag suggestions and/or dirty messages, plus the Tag suggestions and/or dirty messages themselves. outputFile is the path to use for output. If outputFile already exists, it will only be overwritten if overwrite is true.
</div>

<div id="examples"><h1>Examples</h1>
<p>Below is a code snippet showing an example of how the BOSS API may be used.
<h2 id="examples-python">Python</h2>
<p style="font-style:italic;">This example was written by Lojack, with minor changes by WrinklyNinja. Reproduced here with permission. (Example removed pending update.)
<h2 id="examples-c">C++</h2>
<div class="codebox">
#include &lt;iostream&gt;
#include &lt;stdint.h&gt;
#include &lt;fstream&gt;
#include &lt;clocale&gt;
#include &lt;boost/filesystem/detail/utf8_codecvt_facet.hpp&gt;
#include &lt;boost/filesystem.hpp&gt;

#include "BOSS-API.h"

using namespace std;

int main() {
	//Set the locale to get encoding conversions working correctly.
	setlocale(LC_CTYPE, "");
	locale global_loc = locale();
	locale loc(global_loc, new boost::filesystem::detail::utf8_codecvt_facet());
	boost::filesystem::path::imbue(loc);

	boss_db db;
	uint8_t * mPath = reinterpret_cast&lt;uint8_t *&gt;("Skyrim/masterlist.txt");
	uint8_t * uPath = reinterpret_cast&lt;uint8_t *&gt;("Skyrim/userlist.txt");
	uint8_t * dPath = reinterpret_cast&lt;uint8_t *&gt;("../Data");
	uint32_t game = BOSS_API_GAME_SKYRIM;

	const uint8_t * file = reinterpret_cast&lt;uint8_t *&gt;("minimal.txt");
	const uint8_t * cleanMod = reinterpret_cast&lt;uint8_t *&gt;("All Natural.esp");
	const uint8_t * doNotCleanMod = reinterpret_cast&lt;uint8_t *&gt;("bgBalancingEVLAMEAddition.esp");
	const uint8_t * inactiveMod = reinterpret_cast&lt;uint8_t *&gt;("Alternative Beginnings.esp");
	const uint8_t * isActiveMod = reinterpret_cast&lt;uint8_t *&gt;("bgMagicEV.esp");
	uint8_t ** sortedPlugins;
	size_t len;
	size_t lastPos;
	uint8_t * message;
	size_t numTagsAdded, numTagsRemoved;
	bool modified;
	uint32_t * tagIDsAdded, * tagIDsRemoved;
	bool active;
	BashTag * BTmap;
	size_t size;
	uint32_t toClean;

	uint32_t ret;
	ofstream out("API test.txt");

	out &lt;&lt; "TESTING IsCompatibleVersion(...)" &lt;&lt; endl;
	bool b = IsCompatibleVersion(2,0,0);
	if (b)
		out &lt;&lt; '\t' &lt;&lt; "API is compatible." &lt;&lt; endl;
	else
		out &lt;&lt; '\t' &lt;&lt; "API is incompatible." &lt;&lt; endl;

	out &lt;&lt; "TESTING GetVersionString(...)" &lt;&lt; endl;
	const uint8_t * ver;
	ret = GetVersionString(&ver);
	if (ret != BOSS_API_OK)
		out &lt;&lt; '\t' &lt;&lt; "Failed to get version string. Error: " &lt;&lt; ret &lt;&lt; endl;
	else
		out &lt;&lt; '\t' &lt;&lt; "Version: " &lt;&lt; *ver &lt;&lt; endl;
	
	out &lt;&lt; "TESTING CreateBossDb(...)" &lt;&lt; endl;
	ret = CreateBossDb(&db, game, dPath);
	if (ret != BOSS_API_OK) 
		out &lt;&lt; '\t' &lt;&lt; "Creation failed. Error: " &lt;&lt; ret &lt;&lt; endl;
	else {
		out &lt;&lt; "TESTING UpdateMasterlist(...)" &lt;&lt; endl;
		ret = UpdateMasterlist(db, mPath);
		if (ret != BOSS_API_OK)
			out &lt;&lt; '\t' &lt;&lt; "Masterlist update failed. Error: " &lt;&lt; ret &lt;&lt; endl;

		out &lt;&lt; "TESTING Load(...)" &lt;&lt; endl;
		ret = Load(db, mPath, uPath);
		if (ret != BOSS_API_OK)
			out &lt;&lt; '\t' &lt;&lt; "Loading failed. Error: " &lt;&lt; ret &lt;&lt; endl;
		else {
			out &lt;&lt; "TESTING EvalConditionals(...)" &lt;&lt; endl;
			ret = EvalConditionals(db);
			if (BOSS_API_OK != ret)
				out &lt;&lt; '\t' &lt;&lt; "Conditional evaluation failed. Error: " &lt;&lt; ret &lt;&lt; endl;
			else {
				out &lt;&lt; "TESTING SortMods(...)" &lt;&lt; endl;
				ret = SortMods(db, false, &sortedPlugins, &len, &lastPos);
				if (BOSS_API_OK != ret)
					out &lt;&lt; '\t' &lt;&lt; "Sorting failed. Error: " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "List size: " &lt;&lt; len &lt;&lt; endl;
					out &lt;&lt; '\t' &lt;&lt; "Last recognised pos: " &lt;&lt; lastPos &lt;&lt; endl;
					for (size_t i=0; i&lt;len; i++) {
						out &lt;&lt; '\t' &lt;&lt; '\t' &lt;&lt; i &lt;&lt; " : " &lt;&lt; sortedPlugins[i] &lt;&lt; endl;
					}
				}
				
				out &lt;&lt; "TESTING GetDirtyMessage(...)" &lt;&lt; endl;
				//This should give no dirty message.
				ret = GetDirtyMessage(db, cleanMod, &message, &toClean);
				if (ret != BOSS_API_OK)
					out &lt;&lt; '\t' &lt;&lt; "Failed to get dirty info on \"" &lt;&lt; cleanMod &lt;&lt; "\". Error no " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "\"" &lt;&lt; cleanMod &lt;&lt; "\" clean status: " &lt;&lt; toClean &lt;&lt; endl;
					if (message != NULL) {
						out &lt;&lt; '\t' &lt;&lt; "Message: " &lt;&lt; message &lt;&lt; endl;
					}
				}
				
				out &lt;&lt; "TESTING GetDirtyMessage(...)" &lt;&lt; endl;
				//Now try getting dirty message from one that will have one.
				ret = GetDirtyMessage(db, doNotCleanMod, &message, &toClean);
				if (ret != BOSS_API_OK)
					out &lt;&lt; '\t' &lt;&lt; "Failed to get dirty info on \"" &lt;&lt; doNotCleanMod &lt;&lt; "\". Error no " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "\"" &lt;&lt; doNotCleanMod &lt;&lt; "\" clean status: " &lt;&lt; toClean &lt;&lt; endl;
					if (message != NULL) {
						out &lt;&lt; '\t' &lt;&lt; "Message: " &lt;&lt; message &lt;&lt; endl;
					}
				}
				
				out &lt;&lt; "TESTING DumpMinimal(...)" &lt;&lt; endl;
				ret = DumpMinimal(db, file, true);
				if (ret != BOSS_API_OK)
					out &lt;&lt; '\t' &lt;&lt; "Dump failed. Error no " &lt;&lt; ret &lt;&lt; endl;
				
				out &lt;&lt; "TESTING GetBashTagMap(...)" &lt;&lt; endl;
				ret = GetBashTagMap(db, &BTmap, &size);
				if (ret != BOSS_API_OK)
					out &lt;&lt; '\t' &lt;&lt; "Failed to get Bash Tag map. Error no " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "Tag map size: " &lt;&lt; size &lt;&lt; endl;
					out &lt;&lt; '\t' &lt;&lt; "Bash Tags:" &lt;&lt; endl;
					for (size_t i=0; i&lt;size; i++)
						out &lt;&lt; '\t' &lt;&lt; '\t' &lt;&lt; BTmap[i].id &lt;&lt; " : " &lt;&lt; BTmap[i].name &lt;&lt; endl;
				}
				
				out &lt;&lt; "TESTING GetModBashTags(...)" &lt;&lt; endl;
				ret = GetModBashTags(db, doNotCleanMod, &tagIDsAdded, &numTagsAdded, &tagIDsRemoved, &numTagsRemoved, &modified);
				if (ret != BOSS_API_OK)
					out &lt;&lt; '\t' &lt;&lt; "Failed to get Bash Tags for \"" &lt;&lt; doNotCleanMod &lt;&lt; "\". Error no " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "Tags for \"" &lt;&lt; doNotCleanMod &lt;&lt; "\":" &lt;&lt; endl
						&lt;&lt; '\t' &lt;&lt; '\t' &lt;&lt; "Modified by userlist: " &lt;&lt; modified &lt;&lt; endl
						&lt;&lt; '\t' &lt;&lt; '\t' &lt;&lt; "Number of tags added: " &lt;&lt; numTagsAdded &lt;&lt; endl
						&lt;&lt; '\t' &lt;&lt; '\t' &lt;&lt; "Number of tags removed: " &lt;&lt; numTagsRemoved &lt;&lt; endl
						&lt;&lt; '\t' &lt;&lt; '\t' &lt;&lt; "Tags added:" &lt;&lt; endl;
					for (size_t i=0; i&lt;numTagsAdded; i++)
						out &lt;&lt; '\t' &lt;&lt; '\t' &lt;&lt; tagIDsAdded[i] &lt;&lt; endl;
					out &lt;&lt; '\t' &lt;&lt; '\t' &lt;&lt; "Tags removed:" &lt;&lt; endl;
					for (size_t i=0; i&lt;numTagsRemoved; i++)
						out &lt;&lt; '\t' &lt;&lt; '\t' &lt;&lt; tagIDsRemoved[i] &lt;&lt; endl;
				}

				out &lt;&lt; "TESTING GetLoadOrder(...)" &lt;&lt; endl;
				ret = GetLoadOrder(db, &sortedPlugins, &len);
				if (BOSS_API_OK != ret)
					out &lt;&lt; '\t' &lt;&lt; "GetLoadOrder(...) failed. Error: " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "List size: " &lt;&lt; len &lt;&lt; endl;
					for (size_t i=0; i&lt;len; i++) {
						out &lt;&lt; '\t' &lt;&lt; '\t' &lt;&lt; i &lt;&lt; " : " &lt;&lt; sortedPlugins[i] &lt;&lt; endl;
					}
				}
				
				out &lt;&lt; "TESTING SetLoadOrder(...)" &lt;&lt; endl;
				ret = SetLoadOrder(db, sortedPlugins, len);
				if (BOSS_API_OK != ret)
					out &lt;&lt; '\t' &lt;&lt; "SetLoadOrder(...) failed. Error: " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "List size: " &lt;&lt; len &lt;&lt; endl;
					for (size_t i=0; i&lt;len; i++) {
						out &lt;&lt; '\t' &lt;&lt; '\t' &lt;&lt; i &lt;&lt; " : " &lt;&lt; sortedPlugins[i] &lt;&lt; endl;
					}
				}
				
				out &lt;&lt; "TESTING GetActivePlugins(...)" &lt;&lt; endl;
				ret = GetActivePlugins(db, &sortedPlugins, &len);
				if (BOSS_API_OK != ret)
					out &lt;&lt; '\t' &lt;&lt; "GetActivePlugins(...) failed. Error: " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "List size: " &lt;&lt; len &lt;&lt; endl;
					for (size_t i=0; i&lt;len; i++) {
						out &lt;&lt; '\t' &lt;&lt; '\t' &lt;&lt; i &lt;&lt; " : " &lt;&lt; sortedPlugins[i] &lt;&lt; endl;
					}
				}
				
				out &lt;&lt; "TESTING SetActivePlugins(...)" &lt;&lt; endl;
				ret = SetActivePlugins(db, sortedPlugins, len);
				if (BOSS_API_OK != ret)
					out &lt;&lt; '\t' &lt;&lt; "SetActivePlugins(...) failed. Error: " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "List size: " &lt;&lt; len &lt;&lt; endl;
					for (size_t i=0; i&lt;len; i++) {
						out &lt;&lt; '\t' &lt;&lt; '\t' &lt;&lt; i &lt;&lt; " : " &lt;&lt; sortedPlugins[i] &lt;&lt; endl;
					}
				}

				out &lt;&lt; "TESTING GetPluginLoadOrder(...)" &lt;&lt; endl;
				ret = GetPluginLoadOrder(db, doNotCleanMod, &len);
				if (BOSS_API_OK != ret)
					out &lt;&lt; '\t' &lt;&lt; "GetPluginLoadOrder(...) failed. Error: " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "\"" &lt;&lt; doNotCleanMod &lt;&lt; "\" position: " &lt;&lt; len &lt;&lt; endl;
				}
				
				out &lt;&lt; "TESTING SetPluginLoadOrder(...)" &lt;&lt; endl;
				len = 1;
				ret = SetPluginLoadOrder(db, doNotCleanMod, len);
				if (BOSS_API_OK != ret)
					out &lt;&lt; '\t' &lt;&lt; "SetPluginLoadOrder(...) failed. Error: " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "\"" &lt;&lt; doNotCleanMod &lt;&lt; "\" set position: " &lt;&lt; len &lt;&lt; endl;
				}

				out &lt;&lt; "TESTING GetIndexedPlugin(...)" &lt;&lt; endl;
				len = 10;
				ret = GetIndexedPlugin(db, len, &message);
				if (BOSS_API_OK != ret)
					out &lt;&lt; '\t' &lt;&lt; "GetIndexedPlugin(...) failed. Error: " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "Plugin at position " &lt;&lt; len &lt;&lt; " : " &lt;&lt; message &lt;&lt; endl;
				}
				
				out &lt;&lt; "TESTING SetPluginActive(...)" &lt;&lt; endl;
				ret = SetPluginActive(db, inactiveMod, true);
				if (BOSS_API_OK != ret)
					out &lt;&lt; '\t' &lt;&lt; "SetPluginActive(...) failed. Error: " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "\"" &lt;&lt; inactiveMod &lt;&lt; "\" activated." &lt;&lt; endl;
				}

				out &lt;&lt; "TESTING IsPluginActive(...)" &lt;&lt; endl;
				ret = IsPluginActive(db, inactiveMod, &active);
				if (BOSS_API_OK != ret)
					out &lt;&lt; '\t' &lt;&lt; "IsPluginActive(...) failed. Error: " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "\"" &lt;&lt; inactiveMod &lt;&lt; "\" active status: " &lt;&lt; active &lt;&lt; endl;
				}
				
				out &lt;&lt; "TESTING SetPluginActive(...)" &lt;&lt; endl;
				ret = SetPluginActive(db, isActiveMod, false);
				if (BOSS_API_OK != ret)
					out &lt;&lt; '\t' &lt;&lt; "SetPluginActive(...) failed. Error: " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "\"" &lt;&lt; isActiveMod &lt;&lt; "\" deactivated." &lt;&lt; endl;
				}

				out &lt;&lt; "TESTING IsPluginActive(...)" &lt;&lt; endl;
				ret = IsPluginActive(db, isActiveMod, &active);
				if (BOSS_API_OK != ret)
					out &lt;&lt; '\t' &lt;&lt; "IsPluginActive(...) failed. Error: " &lt;&lt; ret &lt;&lt; endl;
				else {
					out &lt;&lt; '\t' &lt;&lt; "\"" &lt;&lt; isActiveMod &lt;&lt; "\" active status: " &lt;&lt; active &lt;&lt; endl;
				}
			}
		}

		DestroyBossDb(db);
	}

	out.close();
	return 0;
}
</div>
</div>

<div id="contact"><h1>Contact</h1>
<p>The BOSS Development Team can be contacted by Private Messaging any of the handles given in the <q>Project Members</q> section of the main BOSS readme at the noted forums. 
<p>However, for API-specific support, it is best to contact WrinklyNinja (available on both the <a href="http://forums.bethsoft.com/index.php">Bethesda Softworks Forums</a> and <a href="http://www.thenexusforums.com/">The Nexus Forums</a>), who is currently responsible for all BOSS code development, including the API. Other team members are may not be of great assistance with coding-related queries.
<p>Developers can also request additional functionality, report any bugs encountered and discuss anything API-related in the <a href="http://forums.bethsoft.com/index.php?showtopic=1221990">offical BOSS API thread</a>. 
</div>

<div id="credits"><h1>Credits</h1>
<p>Credit goes to myk002 and Lojack for significant contributions to both coding and discussion from initial development through to beta testing. The BOSS API is written in C/C++ and makes use of the <a href="http://www.boost.org/">Boost</a>, <a href="http://curl.haxx.se/libcurl/">libcurl</a> and <a href="http://utfcpp.sourceforge.net/">UTF8-CPP</a> libraries.
</div>

<div id="license"><h1>License</h1>
<p>This document is part of the BOSS documentation.
<br />Copyright (C) 2011 BOSS Development Team. 
<br />See the file <q>BOSS ReadMe.html</q> for copying conditions.
</div>